<footer id="footer">
    <!--Footer Button-->
    <div class="container has-text-centered has-background-grey-darker" id="backtotop">
        <a class="has-text-white" onclick="window.scroll(0,0)">BACK TO TOP</a>
    </div>
    <!--Footer Main Section-->
    <div class="has-background-grey-darker">
        <div class="container columns">
            <!--Name Section-->
            <div class="column has-text-left-desktop has-text-centered-mobile">
                <a href="{{site.url}}{{site.baseurl}}/#about">
                    <div class="columns">
                        <div class="column is-one-fifth-desktop is-one-fifth-fullhd is-one-quarter-tablet">
                            <figure class="image is-64x64">
                                <img class="is-rounded" src="{{site.author-image}}">
                            </figure>
                        </div>
                        <div class="column is-marginless">
                            <!-- <h5 class="has-text-grey-lighter">{{site.author-name}}</h5>
                            <div class="content has-text-grey">
                                <p>{{site.author-about | truncate: 100 }}</p>
                            </div> -->
                            <div class="trustpilot-widget" data-locale="en-US" data-template-id="56278e9abfbbba0bdcd568bc" data-businessunit-id="6641034695246799de3d889b" data-style-height="52px" data-style-width="100%">
                                <a href="https://www.trustpilot.com/review/scyted.tv" target="_blank" rel="noopener">Trustpilot</a>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!--Link Section-->
            <!-- <div class="column has-text-white">
                <h3>More Links</h3>
                {% for sitepage in site.html_pages offset: 4 %}
                {% unless sitepage.url == '/'  limit: 2 %}
                <li>
                    <a href="{{sitepage.url | absolute_url}}">{{sitepage.title}}</a>
                </li>
                {% endunless %}
                {% endfor %}
                <li>
                    <a target="_blank" href="{{site.url}}{{site.baseurl}}/feed.xml">Subscribe via RSS</a>
                </li>
            </div> -->

            <!--Blog-post Section-->
            <div class="column has-text-white">
                <h3>Recent Posts</h3>
                {% for post in site.posts offset: 0 limit:3 %}
                <li>
                    <a href="{{post.url | absolute_url}}">{{post.title}}</a>
                </li>
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- <div class="has-background-black has-text-centered has-text-white" id="credits">
        <p><i class="far fa-copyright"></i> 2022-2024 | ScytedTV Studios - <a href="https://github.com/orgs/ScytedTV-Studios/discussions?discussions_q=label%3Awww.scyted.tv">{{site.version}}</a></p>
    </div> -->
    <div class="has-background-black has-text-centered has-text-white" id="credits">
        <p><i class="far fa-copyright"></i> 2022-2024 | ScytedTV Studios</p>
    </div>
    <script src="https://scytedtvstudios.statuspage.io/embed/script.js"></script>
    <script src="https://api.scyted.tv/website/staff-portal/login-redirect.js"></script>
    <script src="https://api.scyted.tv/website/staff-portal/cache-buster.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Function to append a unique query string to URLs
            function addCacheBuster(url) {
                const cacheBuster = `cb=${new Date().getTime()}`;
                return url.includes('?') ? `${url}&${cacheBuster}` : `${url}?${cacheBuster}`;
            }

            // Update all script sources
            const scripts = document.querySelectorAll('script[src]');
            scripts.forEach(script => {
                const newSrc = addCacheBuster(script.src);
                script.src = newSrc;
            });

            // Update all link hrefs (CSS files)
            const links = document.querySelectorAll('link[rel="stylesheet"]');
            links.forEach(link => {
                const newHref = addCacheBuster(link.href);
                link.href = newHref;
            });

            // Update all image sources
            const images = document.querySelectorAll('img');
            images.forEach(image => {
                const newSrc = addCacheBuster(image.src);
                image.src = newSrc;
            });

            // Update all fetch requests (e.g., JSON files)
            const fetchRequests = document.querySelectorAll('[data-fetch-url]');
            fetchRequests.forEach(element => {
                const fetchUrl = element.getAttribute('data-fetch-url');
                const newUrl = addCacheBuster(fetchUrl);
                element.setAttribute('data-fetch-url', newUrl);
            });

            // Optional: Reload the page with cache cleared
            fetch(window.location.href, { cache: "reload" })
                .then(response => {
                    if (response.status === 200) {
                        console.log("Cache cleared and page reloaded");
                    }
                })
                .catch(error => {
                    console.error("Error reloading page: ", error);
                });
        });
    </script>
</footer>